/*! 
CSSLint
Copyright (c) 2011 Nicole Sullivan and Nicholas C. Zakas. All rights reserved.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*//* Build time: 5-July-2011 03:16:53 */function gatherRules(a){var b;if(a.rules){b={};a.rules.split(",").forEach(function(a){b[a]=1})}return b}function outputHelp(){print(["\nUsage: csslint-rhino.js [options]* [file|dir]*"," ","Global Options","  --help                 Displays this information.","  --rules=<rule[,rule]+> Indicate which rules to include.","  --format=<format>      Indicate which format to use for output.","  --version              Outputs the current version number."].join("\n")+"\n\n")}function processFiles(a,b){var c=0,d=b.format||"text",e;if(!a.length){print("No files specified.");c=1}else if(!CSSLint.hasFormat(d)){print("csslint: Unknown format '"+d+"'. Cannot proceed.");c=1}else{e=CSSLint.getFormatter(d);print(e.startFormat());c=a.some(function(a){processFile(a,b)});print(e.endFormat())}return c}function getFiles(a){var b=[],c=function(a){var d=a.listFiles();d.forEach(function(a){/\.css$/.test(a)?b.push(a):a.isDirectory()&&c(a)})};c(a);return b}var CSSLint=function(){function Reporter(a){this.messages=[];this.stats=[];this.lines=a}function mix(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(receiver[c]=b[c]);return c}function indexOf(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var parserlib={};(function(){function a(){this._listeners={}}function b(a){this._input=a.replace(/\n\r?/g,"\n");this._line=1;this._col=1;this._cursor=0}function c(a,b,c){this.col=c;this.line=b;this.message=a}function d(a,b,c){this.col=c;this.line=b;this.text=a}function e(a,c){this._reader=a?new b(a.toString()):null;this._token=null;this._tokenData=c;this._lt=[];this._ltIndex=0;this._ltIndexCache=[]}a.prototype={constructor:a,addListener:function(a,b){this._listeners[a]||(this._listeners[a]=[]);this._listeners[a].push(b)},fire:function(a){typeof a=="string"&&(a={type:a});a.target||(a.target=this);if(!a.type)throw new Error("Event object missing 'type' property.");if(this._listeners[a.type]){var b=this._listeners[a.type].concat();for(var c=0,d=b.length;c<d;c++)b[c].call(this,a)}},removeListener:function(a,b){if(this._listeners[a]){var c=this._listeners[a];for(var d=0,e=c.length;d<e;d++)if(c[d]===b){c.splice(d,1);break}}}};b.prototype={constructor:b,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(a){var b=null;a=typeof a=="undefined"?1:a;this._cursor<this._input.length&&(b=this._input.charAt(this._cursor+a-1));return b},read:function(){var a=null;if(this._cursor<this._input.length){if(this._input.charAt(this._cursor)=="\n"){this._line++;this._col=1}else this._col++;a=this._input.charAt(this._cursor++)}return a},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){if(this._bookmark){this._cursor=this._bookmark.cursor;this._line=this._bookmark.line;this._col=this._bookmark.col;delete this._bookmark}},readTo:function(a){var b="",c;while(b.length<a.length||b.lastIndexOf(a)!=b.length-a.length){c=this.read();if(!c)throw new Error('Expected "'+a+'" at line '+this._line+", col "+this._col+".");b+=c}return b},readWhile:function(a){var b="",c=this.read();while(c!==null&&a(c)){b+=c;c=this.read()}return b},readMatch:function(a){var b=this._input.substring(this._cursor),c=null;typeof a=="string"?b.indexOf(a)===0&&(c=this.readCount(a.length)):a instanceof RegExp&&a.test(b)&&(c=this.readCount(RegExp.lastMatch.length));return c},readCount:function(a){var b="";while(a--)b+=this.read();return b}};c.prototype=new Error;d.fromToken=function(a){return new d(a.value,a.startLine,a.startCol)};d.prototype={constructor:d,valueOf:function(){return this.toString()},toString:function(){return this.text}};e.createTokenData=function(a){var b=[],c={},d=a.concat([]),e=0,f=d.length+1;d.UNKNOWN=-1;d.unshift({name:"EOF"});for(;e<f;e++){b.push(d[e].name);d[d[e].name]=e;d[e].text&&(c[d[e].text]=e)}d.name=function(a){return b[a]};d.type=function(a){return c[a]};return d};e.prototype={constructor:e,match:function(a,b){a instanceof Array||(a=[a]);var c=this.get(b),d=0,e=a.length;while(d<e)if(c==a[d++])return!0;this.unget();return!1},mustMatch:function(a,b){a instanceof Array||(a=[a]);if(!this.match.apply(this,arguments)){token=this.LT(1);throw new c("Expected "+this._tokenData[a[0]].name+" at line "+token.startLine+", character "+token.startCol+".",token.startLine,token.startCol)}},advance:function(a,b){while(this.LA(0)!=0&&!this.match(a,b))this.get();return this.LA(0)},get:function(a){var b=this._tokenData,c=this._reader,d,e=0,f=b.length,g=!1,h,i;if(this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){e++;this._token=this._lt[this._ltIndex++];i=b[this._token.type];while(i.channel!==undefined&&a!==i.channel&&this._ltIndex<this._lt.length){this._token=this._lt[this._ltIndex++];i=b[this._token.type];e++}if((i.channel===undefined||a===i.channel)&&this._ltIndex<=this._lt.length){this._ltIndexCache.push(e);return this._token.type}}h=this._getToken();if(h.type>-1&&!b[h.type].hide){h.channel=b[h.type].channel;this._token=h;this._lt.push(h);this._ltIndexCache.push(this._lt.length-this._ltIndex+e);this._lt.length>5&&this._lt.shift();this._ltIndexCache.length>5&&this._ltIndexCache.shift();this._ltIndex=this._lt.length}i=b[h.type];return i&&(i.hide||i.channel!==undefined&&a!==i.channel)?this.get(a):h.type},LA:function(a){var b=a,c;if(a>0){if(a>5)throw new Error("Too much lookahead.");while(b){c=this.get();b--}while(b<a){this.unget();b++}}else if(a<0){if(!this._lt[this._ltIndex+a])throw new Error("Too much lookbehind.");c=this._lt[this._ltIndex+a].type}else c=this._token.type;return c},LT:function(a){this.LA(a);return this._lt[this._ltIndex+a-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(a){return a<0||a>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[a].name},tokenType:function(a){return this._tokenData[a]||-1},unget:function(){if(!this._ltIndexCache.length)throw new Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop();this._token=this._lt[this._ltIndex-1]}};parserlib.util={StringReader:b,SyntaxError:c,SyntaxUnit:d,EventTarget:a,TokenStreamBase:e}})();(function(){function Combinator(a,b,c){SyntaxUnit.call(this,a,b,c);this.type="unknown";/^\s+$/.test(a)?this.type="descendant":a==">"?this.type="child":a=="+"?this.type="adjacent-sibling":a=="~"&&(this.type="sibling")}function MediaFeature(a,b){SyntaxUnit.call(this,"("+a+(b!==null?":"+b:"")+")",a.startLine,a.startCol);this.name=a;this.value=b}function MediaQuery(a,b,c,d,e){SyntaxUnit.call(this,(a?a+" ":"")+(b?b+" ":"")+c.join(" and "),d,e);this.modifier=a;this.mediaType=b;this.features=c}function Parser(a){EventTarget.call(this);this.options=a||{};this._tokenStream=null}function PropertyName(a,b,c,d){SyntaxUnit.call(this,(b||"")+a,c,d);this.hack=b}function PropertyValue(a,b,c){SyntaxUnit.call(this,a.join(" "),b,c);this.parts=a}function PropertyValuePart(text,line,col){SyntaxUnit.apply(this,arguments);this.type="unknown";var temp;if(/^([+\-]?[\d\.]+)([a-z]+)$/i.test(text)){this.type="dimension";this.value=+RegExp.$1;this.units=RegExp.$2;switch(this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}}else if(/^([+\-]?[\d\.]+)%$/i.test(text)){this.type="percentage";this.value=+RegExp.$1}else if(/^([+\-]?[\d\.]+)%$/i.test(text)){this.type="percentage";this.value=+RegExp.$1}else if(/^([+\-]?\d+)$/i.test(text)){this.type="integer";this.value=+RegExp.$1}else if(/^([+\-]?[\d\.]+)$/i.test(text)){this.type="number";this.value=+RegExp.$1}else if(/^#([a-f0-9]{3,6})/i.test(text)){this.type="color";temp=RegExp.$1;if(temp.length==3){this.red=parseInt(temp.charAt(0)+temp.charAt(0),16);this.green=parseInt(temp.charAt(1)+temp.charAt(1),16);this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)}else{this.red=parseInt(temp.substring(0,2),16);this.green=parseInt(temp.substring(2,4),16);this.blue=parseInt(temp.substring(4,6),16)}}else if(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(text)){this.type="color";this.red=+RegExp.$1;this.green=+RegExp.$2;this.blue=+RegExp.$3}else if(/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)){this.type="color";this.red=+RegExp.$1*255/100;this.green=+RegExp.$2*255/100;this.blue=+RegExp.$3*255/100}else if(/^url\(["']?([^\)"']+)["']?\)/i.test(text)){this.type="uri";this.uri=RegExp.$1}else if(/^["'][^"']*["']/.test(text)){this.type="string";this.value=eval(text)}else if(Colors[text.toLowerCase()]){this.type="color";temp=Colors[text.toLowerCase()].substring(1);this.red=parseInt(temp.substring(0,2),16);this.green=parseInt(temp.substring(2,4),16);this.blue=parseInt(temp.substring(4,6),16)}else if(/^[\,\/]$/.test(text)){this.type="operator";this.value=text}else if(/^[a-z\-\u0080-\uFFFF][a-z0-9\-\u0080-\uFFFF]*$/i.test(text)){this.type="identifier";this.value=text}}function Selector(a,b,c){SyntaxUnit.call(this,a.join(" "),b,c);this.parts=a}function SelectorPart(a,b,c,d,e){SyntaxUnit.call(this,c,d,e);this.elementName=a;this.modifiers=b}function SelectorSubPart(a,b,c,d){SyntaxUnit.call(this,a,c,d);this.type=b;this.args=[]}function isHexDigit(a){return a!=null&&h.test(a)}function isDigit(a){return a!=null&&/\d/.test(a)}function isWhitespace(a){return a!=null&&/\s/.test(a)}function isNewLine(a){return a!=null&&nl.test(a)}function isNameStart(a){return a!=null&&/[a-z_\u0080-\uFFFF\\]/i.test(a)}function isNameChar(a){return a!=null&&(isNameStart(a)||/[0-9\-]/.test(a))}function isIdentStart(a){return a!=null&&(isNameStart(a)||a=="-")}function mix(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function TokenStream(a){TokenStreamBase.call(this,a,Tokens)}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};Combinator.prototype=new SyntaxUnit;Combinator.prototype.constructor=Combinator;var Level1Properties={background:1,"background-attachment":1,"background-color":1,"background-image":1,"background-position":1,"background-repeat":1,border:1,"border-bottom":1,"border-bottom-width":1,"border-color":1,"border-left":1,"border-left-width":1,"border-right":1,"border-right-width":1,"border-style":1,"border-top":1,"border-top-width":1,"border-width":1,clear:1,color:1,display:1,"float":1,font:1,"font-family":1,"font-size":1,"font-style":1,"font-variant":1,"font-weight":1,height:1,"letter-spacing":1,"line-height":1,"list-style":1,"list-style-image":1,"list-style-position":1,"list-style-type":1,margin:1,"margin-bottom":1,"margin-left":1,"margin-right":1,"margin-top":1,padding:1,"padding-bottom":1,"padding-left":1,"padding-right":1,"padding-top":1,"text-align":1,"text-decoration":1,"text-indent":1,"text-transform":1,"vertical-align":1,"white-space":1,width:1,"word-spacing":1},Level2Properties={azimuth:1,"cue-after":1,"cue-before":1,cue:1,elevation:1,"pause-after":1,"pause-before":1,pause:1,"pitch-range":1,pitch:1,"play-during":1,richness:1,"speak-header":1,"speak-numeral":1,"speak-punctuation":1,speak:1,"speech-rate":1,stress:1,"voice-family":1,volume:1,orphans:1,"page-break-after":1,"page-break-before":1,"page-break-inside":1,widows:1,cursor:1,"outline-color":1,"outline-style":1,"outline-width":1,outline:1,"background-attachment":1,"background-color":1,"background-image":1,"background-position":1,"background-repeat":1,background:1,"border-collapse":1,"border-color":1,"border-spacing":1,"border-style":1,"border-top":1,"border-top-color":1,"border-top-style":1,"border-top-width":1,"border-width":1,border:1,bottom:1,"caption-side":1,clear:1,clip:1,color:1,content:1,"counter-increment":1,"counter-reset":1,direction:1,display:1,"empty-cells":1,"float":1,"font-family":1,"font-size":1,"font-style":1,"font-variant":1,"font-weight":1,font:1,height:1,left:1,"letter-spacing":1,"line-height":1,"list-style-image":1,"list-style-position":1,"list-style-type":1,"list-style":1,"margin-right":1,"margin-top":1,margin:1,"max-height":1,"max-width":1,"min-height":1,"min-width":1,overflow:1,"padding-top":1,padding:1,position:1,quotes:1,right:1,"table-layout":1,"text-align":1,"text-decoration":1,"text-indent":1,"text-transform":1,top:1,"unicode-bidi":1,"vertical-align":1,visibility:1,"white-space":1,width:1,"word-spacing":1,"z-index":1};MediaFeature.prototype=new SyntaxUnit;MediaFeature.prototype.constructor=MediaFeature;MediaQuery.prototype=new SyntaxUnit;MediaQuery.prototype.constructor=MediaQuery;Parser.prototype=function(){var a=new EventTarget,b,c={constructor:Parser,_stylesheet:function(){var a=this._tokenStream,b=null,c,d;this.fire("startstylesheet");this._charset();this._skipCruft();while(a.peek()==Tokens.IMPORT_SYM){this._import();this._skipCruft()}while(a.peek()==Tokens.NAMESPACE_SYM){this._namespace();this._skipCruft()}d=a.peek();while(d>Tokens.EOF){try{switch(d){case Tokens.MEDIA_SYM:this._media();this._skipCruft();break;case Tokens.PAGE_SYM:this._page();this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face();this._skipCruft();break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(d){case Tokens.CHARSET_SYM:c=a.LT(1);this._charset(!1);throw new SyntaxError("@charset not allowed here.",c.startLine,c.startCol);case Tokens.IMPORT_SYM:c=a.LT(1);this._import(!1);throw new SyntaxError("@import not allowed here.",c.startLine,c.startCol);case Tokens.NAMESPACE_SYM:c=a.LT(1);this._namespace(!1);throw new SyntaxError("@namespace not allowed here.",c.startLine,c.startCol);default:a.get();this._unexpectedToken(a.token())}}}catch(e){if(!(e instanceof SyntaxError&&!this.options.strict))throw e;this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col})}d=a.peek()}d!=Tokens.EOF&&this._unexpectedToken(a.token());this.fire("endstylesheet")},_charset:function(a){var b=this._tokenStream,c,d,e,f;if(b.match(Tokens.CHARSET_SYM)){e=b.token().startLine;f=b.token().startCol;this._readWhitespace();b.mustMatch(Tokens.STRING);d=b.token();c=d.value;this._readWhitespace();b.mustMatch(Tokens.SEMICOLON);a!==!1&&this.fire({type:"charset",charset:c,line:e,col:f})}},_import:function(a){var b=this._tokenStream,c,d,e,f=[];b.mustMatch(Tokens.IMPORT_SYM);e=b.token();this._readWhitespace();b.mustMatch([Tokens.STRING,Tokens.URI]);d=b.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();f=this._media_query_list();b.mustMatch(Tokens.SEMICOLON);this._readWhitespace();a!==!1&&this.fire({type:"import",uri:d,media:f,line:e.startLine,col:e.startCol})},_namespace:function(a){var b=this._tokenStream,c,d,e,f;b.mustMatch(Tokens.NAMESPACE_SYM);c=b.token().startLine;d=b.token().startCol;this._readWhitespace();if(b.match(Tokens.IDENT)){e=b.token().value;this._readWhitespace()}b.mustMatch([Tokens.STRING,Tokens.URI]);f=b.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();b.mustMatch(Tokens.SEMICOLON);this._readWhitespace();a!==!1&&this.fire({type:"namespace",prefix:e,uri:f,line:c,col:d})},_media:function(){var a=this._tokenStream,b,c,d;a.mustMatch(Tokens.MEDIA_SYM);b=a.token().startLine;c=a.token().startCol;this._readWhitespace();d=this._media_query_list();a.mustMatch(Tokens.LBRACE);this._readWhitespace();this.fire({type:"startmedia",media:d,line:b,col:c});for(;;)if(a.peek()==Tokens.PAGE_SYM)this._page();else if(!this._ruleset())break;a.mustMatch(Tokens.RBRACE);this._readWhitespace();this.fire({type:"endmedia",media:d,line:b,col:c})},_media_query_list:function(){var a=this._tokenStream,b=[];this._readWhitespace();(a.peek()==Tokens.IDENT||a.peek()==Tokens.LPAREN)&&b.push(this._media_query());while(a.match(Tokens.COMMA)){this._readWhitespace();b.push(this._media_query())}return b},_media_query:function(){var a=this._tokenStream,b=null,c=null,d=null,e=[];if(a.match(Tokens.IDENT)){c=a.token().value.toLowerCase();if(c!="only"&&c!="not"){a.unget();c=null}else d=a.token()}this._readWhitespace();if(a.peek()==Tokens.IDENT){b=this._media_type();d===null&&(d=a.token())}else if(a.peek()==Tokens.LPAREN){d===null&&(d=a.LT(1));e.push(this._media_expression())}if(b===null&&e.length===0)return null;this._readWhitespace();while(a.match(Tokens.IDENT)){a.token().value.toLowerCase()!="and"&&this._unexpectedToken(a.token());this._readWhitespace();e.push(this._media_expression())}return new MediaQuery(c,b,e,d.startLine,d.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var a=this._tokenStream,b=null,c,d=null;a.mustMatch(Tokens.LPAREN);b=this._media_feature();this._readWhitespace();if(a.match(Tokens.COLON)){this._readWhitespace();c=a.LT(1);d=this._expression()}a.mustMatch(Tokens.RPAREN);this._readWhitespace();return new MediaFeature(b,d?new SyntaxUnit(d,c.startLine,c.startCol):null)},_media_feature:function(){var a=this._tokenStream;a.mustMatch(Tokens.IDENT);return SyntaxUnit.fromToken(a.token())},_page:function(){var a=this._tokenStream,b,c,d=null,e=null;a.mustMatch(Tokens.PAGE_SYM);b=a.token().startLine;c=a.token().startCol;this._readWhitespace();if(a.match(Tokens.IDENT)){d=a.token().value;d.toLowerCase()==="auto"&&this._unexpectedToken(a.token())}a.peek()==Tokens.COLON&&(e=this._pseudo_page());this._readWhitespace();this.fire({type:"startpage",id:d,pseudo:e,line:b,col:c});this._readDeclarations(!0,!0);this.fire({type:"endpage",id:d,pseudo:e,line:b,col:c})},_margin:function(){var a=this._tokenStream,b,c,d=this._margin_sym();if(d){b=a.token().startLine;c=a.token().startCol;this.fire({type:"startpagemargin",margin:d,line:b,col:c});this._readDeclarations(!0);this.fire({type:"endpagemargin",margin:d,line:b,col:c});return!0}return!1},_margin_sym:function(){var a=this._tokenStream;return a.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(a.token()):null},_pseudo_page:function(){var a=this._tokenStream;a.mustMatch(Tokens.COLON);a.mustMatch(Tokens.IDENT);return a.token().value},_font_face:function(){var a=this._tokenStream,b,c;a.mustMatch(Tokens.FONT_FACE_SYM);b=a.token().startLine;c=a.token().startCol;this._readWhitespace();this.fire({type:"startfontface",line:b,col:c});this._readDeclarations(!0);this.fire({type:"endfontface",line:b,col:c})},_operator:function(){var a=this._tokenStream,b=null;if(a.match([Tokens.SLASH,Tokens.COMMA])){b=a.token();this._readWhitespace()}return b?PropertyValuePart.fromToken(b):null},_combinator:function(){var a=this._tokenStream,b=null,c;if(a.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])){c=a.token();b=new Combinator(c.value,c.startLine,c.startCol);this._readWhitespace()}return b},_unary_operator:function(){var a=this._tokenStream;return a.match([Tokens.MINUS,Tokens.PLUS])?a.token().value:null},_property:function(){var a=this._tokenStream,b=null,c=null,d,e,f,g;if(a.peek()==Tokens.STAR&&this.options.starHack){a.get();e=a.token();c=e.value;f=e.startLine;g=e.startCol}if(a.match(Tokens.IDENT)){e=a.token();d=e.value;if(d.charAt(0)=="_"&&this.options.underscoreHack){c="_";d=d.substring(1)}b=new PropertyName(d,c,f||e.startLine,g||e.startCol);this._readWhitespace()}return b},_ruleset:function(){var a=this._tokenStream,b,c;try{c=this._selectors_group()}catch(d){if(d instanceof SyntaxError&&!this.options.strict){this.fire({type:"error",error:d,message:d.message,line:d.line,col:d.col});b=a.advance([Tokens.RBRACE]);if(b!=Tokens.RBRACE)throw d;return!0}throw d}if(c){this.fire({type:"startrule",selectors:c,line:c[0].line,col:c[0].col});this._readDeclarations(!0);this.fire({type:"endrule",selectors:c,line:c[0].line,col:c[0].col})}return c},_selectors_group:function(){var a=this._tokenStream,b=[],c;c=this._selector();if(c!==null){b.push(c);while(a.match(Tokens.COMMA)){this._readWhitespace();c=this._selector();c!==null?b.push(c):this._unexpectedToken(a.LT(1))}}return b.length?b:null},_selector:function(){var a=this._tokenStream,b=[],c=null,d=null,e=null;c=this._simple_selector_sequence();if(c===null)return null;b.push(c);do{d=this._combinator();if(d!==null){b.push(d);c=this._simple_selector_sequence();c===null?this._unexpectedToken(this.LT(1)):b.push(c)}else{if(!this._readWhitespace())break;e=new Combinator(a.token().value,a.token().startLine,a.token().startCol);d=this._combinator();c=this._simple_selector_sequence();if(c===null)d!==null&&this._unexpectedToken(a.LT(1));else{d!==null?b.push(d):b.push(e);b.push(c)}}}while(!0);return new Selector(b,b[0].line,b[0].col)},_simple_selector_sequence:function(){var a=this._tokenStream,b=null,c=[],d="",e=[function(){return a.match(Tokens.HASH)?new SelectorSubPart(a.token().value,"id",a.token().startLine,a.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],f=0,g=e.length,h=null,i=!1,j,k;j=a.LT(1).startLine;k=a.LT(1).startCol;b=this._type_selector();b||(b=this._universal());b!==null&&(d+=b);for(;;){if(a.peek()===Tokens.S)break;while(f<g&&h===null)h=e[f++].call(this);if(h===null){if(d==="")return null;break}f=0;c.push(h);d+=h.toString();h=null}return d!==""?new SelectorPart(b,c,d,j,k):null},_type_selector:function(){var a=this._tokenStream,b=this._namespace_prefix(),c=this._element_name();if(!c){if(b){a.unget();b.length>1&&a.unget()}return null}if(b){c.text=b+c.text;c.col-=b.length}return c},_class:function(){var a=this._tokenStream,b;if(a.match(Tokens.DOT)){a.mustMatch(Tokens.IDENT);b=a.token();return new SelectorSubPart("."+b.value,"class",b.startLine,b.startCol-1)}return null},_element_name:function(){var a=this._tokenStream,b;if(a.match(Tokens.IDENT)){b=a.token();return new SelectorSubPart(b.value,"elementName",b.startLine,b.startCol)}return null},_namespace_prefix:function(){var a=this._tokenStream,b="";if(a.LA(1)===Tokens.PIPE||a.LA(2)===Tokens.PIPE){a.match([Tokens.IDENT,Tokens.STAR])&&(b+=a.token().value);a.mustMatch(Tokens.PIPE);b+="|"}return b.length?b:null},_universal:function(){var a=this._tokenStream,b="",c;c=this._namespace_prefix();c&&(b+=c);a.match(Tokens.STAR)&&(b+="*");return b.length?b:null},_attrib:function(){var a=this._tokenStream,b=null,c,d;if(a.match(Tokens.LBRACKET)){d=a.token();b=d.value;b+=this._readWhitespace();c=this._namespace_prefix();c&&(b+=c);a.mustMatch(Tokens.IDENT);b+=a.token().value;b+=this._readWhitespace();if(a.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])){b+=a.token().value;b+=this._readWhitespace();a.mustMatch([Tokens.IDENT,Tokens.STRING]);b+=a.token().value;b+=this._readWhitespace()}a.mustMatch(Tokens.RBRACKET);return new SelectorSubPart(b+"]","attribute",d.startLine,d.startCol)}return null},_pseudo:function(){var a=this._tokenStream,b=null,c=":",d,e;if(a.match(Tokens.COLON)){a.match(Tokens.COLON)&&(c+=":");if(a.match(Tokens.IDENT)){b=a.token().value;d=a.token().startLine;e=a.token().startCol-c.length}else if(a.peek()==Tokens.FUNCTION){d=a.LT(1).startLine;e=a.LT(1).startCol-c.length;b=this._functional_pseudo()}b&&(b=new SelectorSubPart(c+b,"pseudo",d,e))}return b},_functional_pseudo:function(){var a=this._tokenStream,b=null;if(a.match(Tokens.FUNCTION)){b=a.token().value;b+=this._readWhitespace();b+=this._expression();a.mustMatch(Tokens.RPAREN);b+=")"}return b},_expression:function(){var a=this._tokenStream,b="";while(a.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.EMS,Tokens.EXS,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION])){b+=a.token().value;b+=this._readWhitespace()}return b.length?b:null},_negation:function(){var a=this._tokenStream,b,c,d="",e,f=null;if(a.match(Tokens.NOT)){d=a.token().value;b=a.token().startLine;c=a.token().startCol;d+=this._readWhitespace();e=this._negation_arg();d+=e;d+=this._readWhitespace();a.match(Tokens.RPAREN);d+=a.token().value;f=new SelectorSubPart(d,"not",b,c);f.args.push(e)}return f},_negation_arg:function(){var a=this._tokenStream,b=[this._type_selector,this._universal,function(){return a.match(Tokens.HASH)?new SelectorSubPart(a.token().value,"id",a.token().startLine,a.token().startCol):null},this._class,this._attrib,this._pseudo],c=null,d=0,e=b.length,f,g,h,i;g=a.LT(1).startLine;h=a.LT(1).startCol;while(d<e&&c===null){c=b[d].call(this);d++}c===null&&this._unexpectedToken(a.LT(1));c.type=="elementName"?i=new SelectorPart(c,[],c.toString(),g,h):i=new SelectorPart(null,[c],c.toString(),g,h);return i},_declaration:function(){var a=this._tokenStream,b=null,c=null,d=null;b=this._property();if(b!==null){a.mustMatch(Tokens.COLON);this._readWhitespace();c=this._expr();(!c||c.length===0)&&this._unexpectedToken(a.LT(1));d=this._prio();this.fire({type:"property",property:b,value:c,important:d,line:b.line,col:b.col});return!0}return!1},_prio:function(){var a=this._tokenStream,b=a.match(Tokens.IMPORTANT_SYM);this._readWhitespace();return b},_expr:function(){var a=this._tokenStream,b=[],c=null,d=null;c=this._term();if(c!==null){b.push(c);do{d=this._operator();d&&b.push(d);c=this._term();if(c===null)break;b.push(c)}while(!0)}return b.length>0?new PropertyValue(b,b[0].startLine,b[0].startCol):null},_term:function(){var a=this._tokenStream,b=null,c=null,d,e;b=this._unary_operator();if(b!==null){d=a.token().startLine;e=a.token().startCol}if(a.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters){c=this._ie_function();if(b===null){d=a.token().startLine;e=a.token().startCol}}else if(a.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.EMS,Tokens.EXS,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])){c=a.token().value;if(b===null){d=a.token().startLine;e=a.token().startCol}this._readWhitespace()}else{c=this._hexcolor();if(c===null){if(b===null){d=a.LT(1).startLine;e=a.LT(1).startCol}c===null&&(a.LA(3)==Tokens.EQUALS&&this.options.ieFilters?c=this._ie_function():c=this._function())}else if(b===null){d=a.token().startLine;e=a.token().startCol}}return c!==null?new PropertyValuePart(b!==null?b+c:c,d,e):null},_function:function(){var a=this._tokenStream,b=null,c=null;if(a.match(Tokens.FUNCTION)){b=a.token().value;this._readWhitespace();c=this._expr();a.match(Tokens.RPAREN);b+=c+")";this._readWhitespace()}return b},_ie_function:function(){var a=this._tokenStream,b=null,c=null,d;if(a.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){b=a.token().value;do{this._readWhitespace()&&(b+=a.token().value);a.LA(0)==Tokens.COMMA&&(b+=a.token().value);a.match(Tokens.IDENT);b+=a.token().value;a.match(Tokens.EQUALS);b+=a.token().value;d=a.peek();while(d!=Tokens.COMMA&&d!=Tokens.S&&d!=Tokens.RPAREN){a.get();b+=a.token().value;d=a.peek()}}while(a.match([Tokens.COMMA,Tokens.S]));a.match(Tokens.RPAREN);b+=")";this._readWhitespace()}return b},_hexcolor:function(){var a=this._tokenStream,b,c=null;if(a.match(Tokens.HASH)){b=a.token();c=b.value;if(!/#[a-f0-9]{3,6}/i.test(c))throw new SyntaxError("Expected a hex color but found '"+c+"' at line "+b.startLine+", character "+b.startCol+".",b.startLine,b.startCol);this._readWhitespace()}return c},_skipCruft:function(){while(this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]));},_readDeclarations:function(a,b){var c=this._tokenStream,d;this._readWhitespace();a&&c.mustMatch(Tokens.LBRACE);this._readWhitespace();try{for(;;){if(!b||!this._margin()){if(!this._declaration())break;if(!c.match(Tokens.SEMICOLON))break}this._readWhitespace()}c.mustMatch(Tokens.RBRACE);this._readWhitespace()}catch(e){if(!(e instanceof SyntaxError&&!this.options.strict))throw e;this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col});d=c.advance([Tokens.SEMICOLON,Tokens.RBRACE]);if(d==Tokens.SEMICOLON)this._readDeclarations(!1,b);else if(d!=Tokens.RBRACE)throw e}},_readWhitespace:function(){var a=this._tokenStream,b="";while(a.match(Tokens.S))b+=a.token().value;return b},_unexpectedToken:function(a){throw new SyntaxError("Unexpected token '"+a.value+"' at line "+a.startLine+", char "+a.startCol+".",a.startLine,a.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},parse:function(a){this._tokenStream=new TokenStream(a,Tokens);this._stylesheet()},parseStyleSheet:function(a){return this.parse(a)},parseMediaQuery:function(a){this._tokenStream=new TokenStream(a,Tokens);var b=this._media_query();this._verifyEnd();return b},parsePropertyValue:function(a){this._tokenStream=new TokenStream(a,Tokens);this._readWhitespace();var b=this._expr();this._readWhitespace();this._verifyEnd();return b},parseRule:function(a){this._tokenStream=new 
TokenStream(a,Tokens);this._readWhitespace();var b=this._ruleset();this._readWhitespace();this._verifyEnd();return b},parseSelector:function(a){this._tokenStream=new TokenStream(a,Tokens);this._readWhitespace();var b=this._selector();this._readWhitespace();this._verifyEnd();return b}};for(b in c)a[b]=c[b];return a}();PropertyName.prototype=new SyntaxUnit;PropertyName.prototype.constructor=PropertyName;PropertyValue.prototype=new SyntaxUnit;PropertyValue.prototype.constructor=PropertyValue;PropertyValuePart.prototype=new SyntaxUnit;PropertyValuePart.prototype.constructor=PropertyValue;PropertyValuePart.fromToken=function(a){return new PropertyValuePart(a.value,a.startLine,a.startCol)};Selector.prototype=new SyntaxUnit;Selector.prototype.constructor=Selector;SelectorPart.prototype=new SyntaxUnit;SelectorPart.prototype.constructor=SelectorPart;SelectorSubPart.prototype=new SyntaxUnit;SelectorSubPart.prototype.constructor=SelectorSubPart;var h=/^[0-9a-fA-F]$/,nonascii=/^[\u0080-\uFFFF]$/,nl=/\n|\r\n|\r|\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(a){var b,c=this._reader,d=null,e=c.getLine(),f=c.getCol();b=c.read();while(b){switch(b){case"/":c.peek()=="*"?d=this.commentToken(b,e,f):d=this.charToken(b,e,f);break;case"|":case"~":case"^":case"$":case"*":c.peek()=="="?d=this.comparisonToken(b,e,f):d=this.charToken(b,e,f);break;case'"':case"'":d=this.stringToken(b,e,f);break;case"#":isNameChar(c.peek())?d=this.hashToken(b,e,f):d=this.charToken(b,e,f);break;case".":isDigit(c.peek())?d=this.numberToken(b,e,f):d=this.charToken(b,e,f);break;case"-":c.peek()=="-"?d=this.htmlCommentEndToken(b,e,f):isNameStart(c.peek())?d=this.identOrFunctionToken(b,e,f):d=this.charToken(b,e,f);break;case"!":d=this.importantToken(b,e,f);break;case"@":d=this.atRuleToken(b,e,f);break;case":":d=this.notToken(b,e,f);break;case"<":d=this.htmlCommentStartToken(b,e,f);break;case"U":case"u":if(c.peek()=="+"){d=this.unicodeRangeToken(b,e,f);break};default:isDigit(b)?d=this.numberToken(b,e,f):isWhitespace(b)?d=this.whitespaceToken(b,e,f):isIdentStart(b)?d=this.identOrFunctionToken(b,e,f):d=this.charToken(b,e,f)}break}!d&&b==null&&(d=this.createToken(Tokens.EOF,null,e,f));return d},createToken:function(a,b,c,d,e){var f=this._reader;e=e||{};return{value:b,type:a,channel:e.channel,hide:e.hide||!1,startLine:c,startCol:d,endLine:f.getLine(),endCol:f.getCol()}},atRuleToken:function(a,b,c){var d=a,e=this._reader,f=Tokens.CHAR,g=!1,h,i;e.mark();h=this.readName();d=a+h;f=Tokens.type(d.toLowerCase());if(f==Tokens.CHAR||f==Tokens.UNKNOWN){f=Tokens.CHAR;d=a;e.reset()}return this.createToken(f,d,b,c)},charToken:function(a,b,c){var d=Tokens.type(a);d==-1&&(d=Tokens.CHAR);return this.createToken(d,a,b,c)},commentToken:function(a,b,c){var d=this._reader,e=this.readComment(a);return this.createToken(Tokens.COMMENT,e,b,c)},comparisonToken:function(a,b,c){var d=this._reader,e=a+d.read(),f=Tokens.type(e)||Tokens.CHAR;return this.createToken(f,e,b,c)},hashToken:function(a,b,c){var d=this._reader,e=this.readName(a);return this.createToken(Tokens.HASH,e,b,c)},htmlCommentStartToken:function(a,b,c){var d=this._reader,e=a;d.mark();e+=d.readCount(3);if(e=="<!--")return this.createToken(Tokens.CDO,e,b,c);d.reset();return this.charToken(a,b,c)},htmlCommentEndToken:function(a,b,c){var d=this._reader,e=a;d.mark();e+=d.readCount(2);if(e=="-->")return this.createToken(Tokens.CDC,e,b,c);d.reset();return this.charToken(a,b,c)},identOrFunctionToken:function(a,b,c){var d=this._reader,e=this.readName(a),f=Tokens.IDENT;if(d.peek()=="("){e+=d.read();if(e.toLowerCase()=="url("){f=Tokens.URI;e=this.readURI(e);e.toLowerCase()=="url("&&(f=Tokens.FUNCTION)}else f=Tokens.FUNCTION}else if(d.peek()==":"&&e.toLowerCase()=="progid"){e+=d.readTo("(");f=Tokens.IE_FUNCTION}return this.createToken(f,e,b,c)},importantToken:function(a,b,c){var d=this._reader,e=a,f=Tokens.CHAR,g,h;d.mark();h=d.read();while(h){if(h=="/"){if(d.peek()!="*")break;g=this.readComment(h);if(g=="")break}else{if(!isWhitespace(h)){if(/i/i.test(h)){g=d.readCount(8);if(/mportant/i.test(g)){e+=h+g;f=Tokens.IMPORTANT_SYM}break}break}e+=h+this.readWhitespace()}h=d.read()}if(f==Tokens.CHAR){d.reset();return this.charToken(a,b,c)}return this.createToken(f,e,b,c)},notToken:function(a,b,c){var d=this._reader,e=a;d.mark();e+=d.readCount(4);if(e.toLowerCase()==":not(")return this.createToken(Tokens.NOT,e,b,c);d.reset();return this.charToken(a,b,c)},numberToken:function(a,b,c){var d=this._reader,e=this.readNumber(a),f,g=Tokens.NUMBER,h=d.peek();if(isIdentStart(h)){f=this.readName(d.read());e+=f;/em|ex|px|gd|rem|vw|vh|vm|ch|cm|mm|in|pt|pc/i.test(f)?g=Tokens.LENGTH:/deg|rad|grad/i.test(f)?g=Tokens.ANGLE:/ms|s/i.test(f)?g=Tokens.TIME:/hz|khz/i.test(f)?g=Tokens.FREQ:/dpi|dpcm/i.test(f)?g=Tokens.RESOLUTION:g=Tokens.DIMENSION}else if(h=="%"){e+=d.read();g=Tokens.PERCENTAGE}return this.createToken(g,e,b,c)},stringToken:function(a,b,c){var d=a,e=a,f=this._reader,g=a,h=Tokens.STRING,i=f.read();while(i){e+=i;if(i==d&&g!="\\")break;if(isNewLine(f.peek())&&i!="\\"){h=Tokens.INVALID;break}g=i;i=f.read()}i==null&&(h=Tokens.INVALID);return this.createToken(h,e,b,c)},unicodeRangeToken:function(a,b,c){var d=this._reader,e=a,f,g=Tokens.CHAR;if(d.peek()=="+"){d.mark();e+=d.read();e+=this.readUnicodeRangePart(!0);if(e.length==2)d.reset();else{g=Tokens.UNICODE_RANGE;if(e.indexOf("?")==-1&&d.peek()=="-"){d.mark();f=d.read();f+=this.readUnicodeRangePart(!1);f.length==1?d.reset():e+=f}}}return this.createToken(g,e,b,c)},whitespaceToken:function(a,b,c){var d=this._reader,e=a+this.readWhitespace();return this.createToken(Tokens.S,e,b,c)},readUnicodeRangePart:function(a){var b=this._reader,c="",d=b.peek();while(isHexDigit(d)&&c.length<6){b.read();c+=d;d=b.peek()}if(a)while(d=="?"&&c.length<6){b.read();c+=d;d=b.peek()}return c},readWhitespace:function(){var a=this._reader,b="",c=a.peek();while(isWhitespace(c)){a.read();b+=c;c=a.peek()}return b},readNumber:function(a){var b=this._reader,c=a,d=a==".",e=b.peek();while(e){if(isDigit(e))c+=b.read();else{if(e!=".")break;if(d)break;d=!0;c+=b.read()}e=b.peek()}return c},readString:function(){var a=this._reader,b=a.read(),c=b,d=b,e=a.peek();while(e){e=a.read();c+=e;if(e==b&&d!="\\")break;if(isNewLine(a.peek())&&e!="\\"){c="";break}d=e;e=a.peek()}e==null&&(c="");return c},readURI:function(a){var b=this._reader,c=a,d="",e=b.peek();b.mark();while(e&&isWhitespace(e)){b.read();e=b.peek()}e=="'"||e=='"'?d=this.readString():d=this.readURL();e=b.peek();while(e&&isWhitespace(e)){b.read();e=b.peek()}if(d==""||e!=")"){c=a;b.reset()}else c+=d+b.read();return c},readURL:function(){var a=this._reader,b="",c=a.peek();while(/^[!#$%&\\*-~]$/.test(c)){b+=a.read();c=a.peek()}return b},readName:function(a){var b=this._reader,c=a||"",d=b.peek();while(d&&isNameChar(d)){c+=b.read();d=b.peek()}return c},readComment:function(a){var b=this._reader,c=a||"",d=b.read();if(d=="*"){while(d){c+=d;if(d=="*"&&b.peek()=="/"){c+=b.read();break}d=b.read()}return c}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"IMPORTANT_SYM"},{name:"EMS"},{name:"EXS"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var a=[],b={};Tokens.UNKNOWN=-1;Tokens.unshift({name:"EOF"});for(var c=0,d=Tokens.length;c<d;c++){a.push(Tokens[c].name);Tokens[Tokens[c].name]=c;Tokens[c].text&&(b[Tokens[c].text]=c)}Tokens.name=function(b){return a[b]};Tokens.type=function(a){return b[a]||-1}})();parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,TokenStream:TokenStream,Tokens:Tokens}})();var YUITest={version:"@VERSION@"};YUITest.EventTarget=function(){this._handlers={}};YUITest.EventTarget.prototype={constructor:YUITest.EventTarget,attach:function(a,b){typeof this._handlers[a]=="undefined"&&(this._handlers[a]=[]);this._handlers[a].push(b)},subscribe:function(a,b){this.attach.apply(this,arguments)},fire:function(a){typeof a=="string"&&(a={type:a});a.target||(a.target=this);if(!a.type)throw new Error("Event object missing 'type' property.");if(this._handlers[a.type]instanceof Array){var b=this._handlers[a.type];for(var c=0,d=b.length;c<d;c++)b[c].call(this,a)}},detach:function(a,b){if(this._handlers[a]instanceof Array){var c=this._handlers[a];for(var d=0,e=c.length;d<e;d++)if(c[d]===b){c.splice(d,1);break}}},unsubscribe:function(a,b){this.detach.apply(this,arguments)}};YUITest.Util={mix:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},JSON:typeof JSON!="undefined"?JSON:{stringify:function(){throw new Error("No JSON utility specified.")}}};YUITest.AssertionError=function(a){this.message=a;this.name="Assert Error"};YUITest.AssertionError.prototype={constructor:YUITest.AssertionError,getMessage:function(){return this.message},toString:function(){return this.name+": "+this.getMessage()}};YUITest.ComparisonFailure=function(a,b,c){YUITest.AssertionError.call(this,a);this.expected=b;this.actual=c;this.name="ComparisonFailure"};YUITest.ComparisonFailure.prototype=new YUITest.AssertionError;YUITest.ComparisonFailure.prototype.constructor=YUITest.ComparisonFailure;YUITest.ComparisonFailure.prototype.getMessage=function(){return this.message+"\nExpected: "+this.expected+" ("+typeof this.expected+")"+"\nActual: "+this.actual+" ("+typeof this.actual+")"};YUITest.ShouldError=function(a){YUITest.AssertionError.call(this,a||"This test should have thrown an error but didn't.");this.name="ShouldError"};YUITest.ShouldError.prototype=new YUITest.AssertionError;YUITest.ShouldError.prototype.constructor=YUITest.ShouldError;YUITest.ShouldFail=function(a){YUITest.AssertionError.call(this,a||"This test should fail but didn't.");this.name="ShouldFail"};YUITest.ShouldFail.prototype=new YUITest.AssertionError;YUITest.ShouldFail.prototype.constructor=YUITest.ShouldFail;YUITest.UnexpectedError=function(a){YUITest.AssertionError.call(this,"Unexpected error: "+a.message);this.cause=a;this.name="UnexpectedError";this.stack=a.stack};YUITest.UnexpectedError.prototype=new YUITest.AssertionError;YUITest.UnexpectedError.prototype.constructor=YUITest.UnexpectedError;YUITest.UnexpectedValue=function(a,b){YUITest.AssertionError.call(this,a);this.unexpected=b;this.name="UnexpectedValue"};YUITest.UnexpectedValue.prototype=new YUITest.AssertionError;YUITest.UnexpectedValue.prototype.constructor=YUITest.UnexpectedValue;YUITest.UnexpectedValue.prototype.getMessage=function(){return this.message+"\nUnexpected: "+this.unexpected+" ("+typeof this.unexpected+") "};YUITest.Wait=function(a,b){this.segment=typeof a=="function"?a:null;this.delay=typeof b=="number"?b:0};YUITest.Assert={_asserts:0,_formatMessage:function(a,b){return typeof a=="string"&&a.length>0?a.replace("{message}",b):b},_getCount:function(){return this._asserts},_increment:function(){this._asserts++},_reset:function(){this._asserts=0},fail:function(a){throw new YUITest.AssertionError(YUITest.Assert._formatMessage(a,"Test force-failed."))},areEqual:function(a,b,c){YUITest.Assert._increment();if(a!=b)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,"Values should be equal."),a,b)},areNotEqual:function(a,b,c){YUITest.Assert._increment();if(a==b)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(c,"Values should not be equal."),a)},areNotSame:function(a,b,c){YUITest.Assert._increment();if(a===b)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(c,"Values should not be the same."),a)},areSame:function(a,b,c){YUITest.Assert._increment();if(a!==b)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,"Values should be the same."),a,b)},isFalse:function(a,b){YUITest.Assert._increment();if(!1!==a)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(b,"Value should be false."),!1,a)},isTrue:function(a,b){YUITest.Assert._increment();if(!0!==a)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(b,"Value should be true."),!0,a)},isNaN:function(a,b){YUITest.Assert._increment();if(!isNaN(a))throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(b,"Value should be NaN."),NaN,a)},isNotNaN:function(a,b){YUITest.Assert._increment();if(isNaN(a))throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Values should not be NaN."),NaN)},isNotNull:function(a,b){YUITest.Assert._increment();if(a===null)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Values should not be null."),null)},isNotUndefined:function(a,b){YUITest.Assert._increment();if(typeof a=="undefined")throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should not be undefined."),undefined)},isNull:function(a,b){YUITest.Assert._increment();if(a!==null)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(b,"Value should be null."),null,a)},isUndefined:function(a,b){YUITest.Assert._increment();if(typeof a!="undefined")throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(b,"Value should be undefined."),undefined,a)},isArray:function(a,b){YUITest.Assert._increment();var c=!1;Array.isArray?c=!Array.isArray(a):c=Object.prototype.toString.call(a)!="[object Array]";if(c)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should be an array."),a)},isBoolean:function(a,b){YUITest.Assert._increment();if(typeof a!="boolean")throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should be a Boolean."),a)},isFunction:function(a,b){YUITest.Assert._increment();if(!(a instanceof Function))throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should be a function."),a)},isInstanceOf:function(a,b,c){YUITest.Assert._increment();if(!(b instanceof a))throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,"Value isn't an instance of expected type."),a,b)},isNumber:function(a,b){YUITest.Assert._increment();if(typeof a!="number")throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should be a number."),a)},isObject:function(a,b){YUITest.Assert._increment();if(!a||typeof a!="object"&&typeof a!="function")throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should be an object."),a)},isString:function(a,b){YUITest.Assert._increment();if(typeof a!="string")throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(b,"Value should be a string."),a)},isTypeOf:function(a,b,c){YUITest.Assert._increment();if(typeof b!=a)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,"Value should be of type "+a+"."),a,typeof b)},throwsError:function(a,b,c){YUITest.Assert._increment();var d=!1;try{b()}catch(e){if(typeof a=="string")e.message!=a&&(d=!0);else if(typeof a=="function")e instanceof a||(d=!0);else if(typeof a=="object"&&a!==null){if(!(e instanceof a.constructor)||e.message!=a.message)d=!0}else d=!0;if(d)throw new YUITest.UnexpectedError(e);return}throw new YUITest.AssertionError(YUITest.Assert._formatMessage(c,"Error should have been thrown."))}};YUITest.ArrayAssert={_indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},_some:function(a,b){if(a.some)return a.some(b);for(var c=0;c<a.length;c++)if(b(a[c]))return!0;return!1},contains:function(a,b,c){YUITest.Assert._increment();this._indexOf(b,a)==-1&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Value "+a+" ("+typeof a+") not found in array ["+b+"]."))},containsItems:function(a,b,c){YUITest.Assert._increment();for(var d=0;d<a.length;d++)this._indexOf(b,a[d])==-1&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Value "+a[d]+" ("+typeof a[d]+") not found in array ["+b+"]."))},containsMatch:function(a,b,c){YUITest.Assert._increment();if(typeof a!="function")throw new TypeError("ArrayAssert.containsMatch(): First argument must be a function.");this._some(b,a)||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"No match found in array ["+b+"]."))},doesNotContain:function(a,b,c){YUITest.Assert._increment();this._indexOf(b,a)>-1&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Value found in array ["+b+"]."))},doesNotContainItems:function(a,b,c){YUITest.Assert._increment();for(var d=0;d<a.length;d++)this._indexOf(b,a[d])>-1&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Value found in array ["+b+"]."))},doesNotContainMatch:function(a,b,c){YUITest.Assert._increment();if(typeof a!="function")throw new TypeError("ArrayAssert.doesNotContainMatch(): First argument must be a function.");this._some(b,a)&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Value found in array ["+b+"]."))},indexOf:function(a,b,c,d){YUITest.Assert._increment();for(var e=0;e<b.length;e++)if(b[e]===a){c!=e&&YUITest.Assert.fail(YUITest.Assert._formatMessage(d,"Value exists at index "+e+" but should be at index "+c+"."));return}YUITest.Assert.fail(YUITest.Assert._formatMessage(d,"Value doesn't exist in array ["+b+"]."))},itemsAreEqual:function(a,b,c){YUITest.Assert._increment();a.length!=b.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Array should have a length of "+a.length+" but has a length of "+b.length));for(var d=0;d<a.length;d++)if(a[d]!=b[d])throw new YUITest.Assert.ComparisonFailure(YUITest.Assert._formatMessage(c,"Values in position "+d+" are not equal."),a[d],b[d])},itemsAreEquivalent:function(a,b,c,d){YUITest.Assert._increment();if(typeof c!="function")throw new TypeError("ArrayAssert.itemsAreEquivalent(): Third argument must be a function.");a.length!=b.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(d,"Array should have a length of "+a.length+" but has a length of "+b.length));for(var e=0;e<a.length;e++)if(!c(a[e],b[e]))throw new YUITest.Assert.ComparisonFailure(YUITest.Assert._formatMessage(d,"Values in position "+e+" are not equivalent."),a[e],b[e])},isEmpty:function(a,b){YUITest.Assert._increment();a.length>0&&YUITest.Assert.fail(YUITest.Assert._formatMessage(b,"Array should be empty."))},isNotEmpty:function(a,b){YUITest.Assert._increment();a.length===0&&YUITest.Assert.fail(YUITest.Assert._formatMessage(b,"Array should not be empty."))},itemsAreSame:function(a,b,c){YUITest.Assert._increment();a.length!=b.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Array should have a length of "+a.length+" but has a length of "+b.length));for(var d=0;d<a.length;d++)if(a[d]!==b[d])throw new YUITest.Assert.ComparisonFailure(YUITest.Assert._formatMessage(c,"Values in position "+d+" are not the same."),a[d],b[d])},lastIndexOf:function(a,b,c,d){for(var e=b.length;e>=0;e--)if(b[e]===a){c!=e&&YUITest.Assert.fail(YUITest.Assert._formatMessage(d,"Value exists at index "+e+" but should be at index "+c+"."));return}YUITest.Assert.fail(YUITest.Assert._formatMessage(d,"Value doesn't exist in array."))}};YUITest.ObjectAssert={areEqual:function(a,b,c){YUITest.Assert._increment();for(var d in a)if(a.hasOwnProperty(d)&&a[d]!=b[d])throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,"Values should be equal for property "+d),a[d],b[d])},hasKey:function(a,b,c){YUITest.ObjectAssert.ownsOrInheritsKey(a,b,c)},hasKeys:function(a,b,c){YUITest.ObjectAssert.ownsOrInheritsKeys(a,objects,c)},inheritsKey:function(a,b,c){YUITest.Assert._increment();a in b&&!b.hasOwnProperty(a)||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Property '"+a+"' not found on object instance."))},inheritsKeys:function(a,b,c){YUITest.Assert._increment();for(var d=0;d<a.length;d++)propertyName in b&&!b.hasOwnProperty(a[d])||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Property '"+a[d]+"' not found on object instance."))},ownsKey:function(a,b,c){YUITest.Assert._increment();b.hasOwnProperty(a)||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Property '"+a+"' not found on object instance."))},ownsKeys:function(a,b,c){YUITest.Assert._increment();for(var d=0;d<a.length;d++)b.hasOwnProperty(a[d])||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Property '"+a[d]+"' not found on object instance."))},ownsNoKeys:function(a,b){YUITest.Assert._increment();var c=0,d;for(d in a)a.hasOwnProperty(d)&&c++;c!==0&&YUITest.Assert.fail(YUITest.Assert._formatMessage(b,"Object owns "+c+" properties but should own none."))},ownsOrInheritsKey:function(a,b,c){YUITest.Assert._increment();a in b||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Property '"+a+"' not found on object."))},ownsOrInheritsKeys:function(a,b,c){YUITest.Assert._increment();for(var d=0;d<a.length;d++)a[d]in b||YUITest.Assert.fail(YUITest.Assert._formatMessage(c,"Property '"+a[d]+"' not found on object."))}};YUITest.DateAssert={datesAreEqual:function(a,b,c){YUITest.Assert._increment();if(!(a instanceof Date&&b instanceof Date))throw new TypeError("YUITest.DateAssert.datesAreEqual(): Expected and actual values must be Date objects.");var d="";a.getFullYear()!=b.getFullYear()&&(d="Years should be equal.");a.getMonth()!=b.getMonth()&&(d="Months should be equal.");a.getDate()!=b.getDate()&&(d="Days of month should be equal.");if(d.length)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,d),a,b)},timesAreEqual:function(a,b,c){YUITest.Assert._increment();if(!(a instanceof Date&&b instanceof Date))throw new TypeError("YUITest.DateAssert.timesAreEqual(): Expected and actual values must be Date objects.");var d="";a.getHours()!=b.getHours()&&(d="Hours should be equal.");a.getMinutes()!=b.getMinutes()&&(d="Minutes should be equal.");a.getSeconds()!=b.getSeconds()&&(d="Seconds should be equal.");if(d.length)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(c,d),a,b)}};YUITest.Mock=function(a){a=a||{};var b,c;try{function d(){}d.prototype=a;b=new d}catch(e){b={}}for(c in a)a.hasOwnProperty(c)&&typeof a[c]=="function"&&(b[c]=function(a){return function(){YUITest.Assert.fail("Method "+a+"() was called but was not expected to be.")}}(c));return b};YUITest.Mock.expect=function(a,b){a.__expectations||(a.__expectations={});if(b.method){var c=b.method,d=b.args||[],e=b.returns,f=typeof b.callCount=="number"?b.callCount:1,g=b.error,h=b.run||function(){},i;a.__expectations[c]=b;b.callCount=f;b.actualCallCount=0;for(i=0;i<d.length;i++)d[i]instanceof YUITest.Mock.Value||(d[i]=YUITest.Mock.Value(YUITest.Assert.areSame,[d[i]],"Argument "+i+" of "+c+"() is incorrect."));f>0?a[c]=function(){try{b.actualCallCount++;YUITest.Assert.areEqual(d.length,arguments.length,"Method "+c+"() passed incorrect number of arguments.");for(var a=0,f=d.length;a<f;a++)d[a].verify(arguments[a]);h.apply(this,arguments);if(g)throw g}catch(i){YUITest.TestRunner._handleError(i)}return e}:a[c]=function(){try{YUITest.Assert.fail("Method "+c+"() should not have been called.")}catch(a){YUITest.TestRunner._handleError(a)}}}else b.property&&(a.__expectations[c]=b)};YUITest.Mock.verify=function(a){try{for(var b in a.__expectations)if(a.__expectations.hasOwnProperty(b)){var c=a.__expectations[b];c.method?YUITest.Assert.areEqual(c.callCount,c.actualCallCount,"Method "+c.method+"() wasn't called the expected number of times."):c.property&&YUITest.Assert.areEqual(c.value,a[c.property],"Property "+c.property+" wasn't set to the correct value.")}}catch(d){YUITest.TestRunner._handleError(d)}};YUITest.Mock.Value=function(a,b,c){if(!(this instanceof YUITest.Mock.Value))return new YUITest.Mock.Value(a,b,c);this.verify=function(d){var e=[].concat(b||[]);e.push(d);e.push(c);a.apply(null,e)}};YUITest.Mock.Value.Any=YUITest.Mock.Value(function(){});YUITest.Mock.Value.Boolean=YUITest.Mock.Value(YUITest.Assert.isBoolean);YUITest.Mock.Value.Number=YUITest.Mock.Value(YUITest.Assert.isNumber);YUITest.Mock.Value.String=YUITest.Mock.Value(YUITest.Assert.isString);YUITest.Mock.Value.Object=YUITest.Mock.Value(YUITest.Assert.isObject);YUITest.Mock.Value.Function=YUITest.Mock.Value(YUITest.Assert.isFunction);YUITest.Results=function(a){this.name=a;this.passed=0;this.failed=0;this.errors=0;this.ignored=0;this.total=0;this.duration=0};YUITest.Results.prototype.include=function(a){this.passed+=a.passed;this.failed+=a.failed;this.ignored+=a.ignored;this.total+=a.total;this.errors+=a.errors};YUITest.TestCase=function(a){this._should={};for(var b in a)this[b]=a[b];typeof this.name!="string"&&(this.name="testCase"+ +(new Date))};YUITest.TestCase.prototype={constructor:YUITest.TestCase,callback:function(){return YUITest.TestRunner.callback.apply(YUITest.TestRunner,arguments)},resume:function(a){YUITest.TestRunner.resume(a)},wait:function(a,b){var c=typeof a=="number"?a:b;c=typeof c=="number"?c:1e4;throw typeof a=="function"?new YUITest.Wait(a,c):new YUITest.Wait(function(){YUITest.Assert.fail("Timeout: wait() called but resume() never called.")},c)},assert:function(a,b){YUITest.Assert._increment();if(!a)throw new YUITest.AssertionError(YUITest.Assert._formatMessage(b,"Assertion failed."))},fail:function(a){YUITest.Assert.fail(a)},init:function(){},destroy:function(){},setUp:function(){},tearDown:function(){}};YUITest.TestSuite=function(a){this.name="";this.items=[];if(typeof a=="string")this.name=a;else if(a instanceof Object)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.name===""&&(this.name="testSuite"+ +(new Date))};YUITest.TestSuite.prototype={constructor:YUITest.TestSuite,add:function(a){(a instanceof YUITest.TestSuite||a instanceof YUITest.TestCase)&&this.items.push(a);return this},setUp:function(){},tearDown:function(){}};YUITest.TestFormat=function(){function a(a){return a.replace(/[<>"'&]/g,function(a){switch(a){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}})}return{JSON:function(a){return YUITest.Util.JSON.stringify(a)},XML:function(b){function c(b){var d="<"+b.type+' name="'+a(b.name)+'"';typeof b.duration=="number"&&(d+=' duration="'+b.duration+'"');if(b.type=="test")d+=' result="'+b.result+'" message="'+a(b.message)+'">';else{d+=' passed="'+b.passed+'" failed="'+b.failed+'" ignored="'+b.ignored+'" total="'+b.total+'">';for(var e in b)b.hasOwnProperty(e)&&b[e]&&typeof b[e]=="object"&&!(b[e]instanceof Array)&&(d+=c(b[e]))}d+="</"+b.type+">";return d}return'<?xml version="1.0" encoding="UTF-8"?>'+c(b)},JUnitXML:function(b){function c(b){var d="";switch(b.type){case"test":if(b.result!="ignore"){d='<testcase name="'+a(b.name)+'" time="'+b.duration/1e3+'">';b.result=="fail"&&(d+='<failure message="'+a(b.message)+'"><![CDATA['+b.message+"]]></failure>");d+="</testcase>"}break;case"testcase":d='<testsuite name="'+a(b.name)+'" tests="'+b.total+'" failures="'+b.failed+'" time="'+b.duration/1e3+'">';for(var e in b)b.hasOwnProperty(e)&&b[e]&&typeof b[e]=="object"&&!(b[e]instanceof Array)&&(d+=c(b[e]));d+="</testsuite>";break;case"testsuite":for(var e in b)b.hasOwnProperty(e)&&b[e]&&typeof b[e]=="object"&&!(b[e]instanceof Array)&&(d+=c(b[e]));break;case"report":d="<testsuites>";for(var e in b)b.hasOwnProperty(e)&&b[e]&&typeof b[e]=="object"&&!(b[e]instanceof Array)&&(d+=c(b[e]));d+="</testsuites>"}return d}return'<?xml version="1.0" encoding="UTF-8"?>'+c(b)},TAP:function(a){function c(a){var d="";switch(a.type){case"test":if(a.result!="ignore"){d="ok "+b++ +" - "+a.name;a.result=="fail"&&(d="not "+d+" - "+a.message);d+="\n"}else d="#Ignored test "+a.name+"\n";break;case"testcase":d="#Begin testcase "+a.name+"("+a.failed+" failed of "+a.total+")\n";for(var e in a)a.hasOwnProperty(e)&&a[e]&&typeof a[e]=="object"&&!(a[e]instanceof Array)&&(d+=c(a[e]));d+="#End testcase "+a.name+"\n";break;case"testsuite":d="#Begin testsuite "+a.name+"("+a.failed+" failed of "+a.total+")\n";for(var e in a)a.hasOwnProperty(e)&&a[e]&&typeof a[e]=="object"&&!(a[e]instanceof Array)&&(d+=c(a[e]));d+="#End testsuite "+a.name+"\n";break;case"report":for(var e in a)a.hasOwnProperty(e)&&a[e]&&typeof a[e]=="object"&&!(a[e]instanceof Array)&&(d+=c(a[e]))}return d}var b=1;return"1.."+a.total+"\n"+c(a)}}}();YUITest.CoverageFormat={JSON:function(a){return YUITest.Util.JSON.stringify(a)},XdebugJSON:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c].lines);return YUITest.Util.JSON.stringify(a)}};YUITest.Event=function(){function g(a,b,c,d,e,f,g,h,i,j,k){if(!a)throw new Error("simulateKeyEvent(): Invalid target.");if(typeof b!="string")throw new Error("simulateKeyEvent(): Event type must be a string.");b=b.toLowerCase();switch(b){case"textevent":b="keypress";break;case"keyup":case"keydown":case"keypress":break;default:throw new Error("simulateKeyEvent(): Event type '"+b+"' not supported.")}typeof c!="boolean"&&(c=!0);typeof d!="boolean"&&(d=!0);if(typeof e!="object"||e==null)e=window;typeof f!="boolean"&&(f=!1);typeof g!="boolean"&&(g=!1);typeof h!="boolean"&&(h=!1);typeof i!="boolean"&&(i=!1);typeof j!="number"&&(j=0);typeof k!="number"&&(k=0);var l=null;if(typeof document.createEvent=="function"){try{l=document.createEvent("KeyEvents");l.initKeyEvent(b,c,d,e,f,g,h,i,j,k)}catch(m){try{l=document.createEvent("Events")}catch(n){l=document.createEvent("UIEvents")}finally{l.initEvent(b,c,d);l.view=e;l.altKey=g;l.ctrlKey=f;l.shiftKey=h;l.metaKey=i;l.keyCode=j;l.charCode=k}}a.dispatchEvent(l)}else{if(typeof document.createEventObject=="undefined")throw new Error("simulateKeyEvent(): No event simulation framework present.");l=document.createEventObject();l.bubbles=c;l.cancelable=d;l.view=e;l.ctrlKey=f;l.altKey=g;l.shiftKey=h;l.metaKey=i;l.keyCode=k>0?k:j;a.fireEvent("on"+b,l)}}function h(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(!b)throw new Error("simulateMouseEvent(): Invalid target.");if(typeof c!="string")throw new Error("simulateMouseEvent(): Event type must be a string.");c=c.toLowerCase();if(!a[c])throw new Error("simulateMouseEvent(): Event type '"+c+"' not supported.");typeof d!="boolean"&&(d=!0);typeof e!="boolean"&&(e=c!="mousemove");if(typeof f!="object"||f!=null)f=window;typeof g!="number"&&(g=1);typeof h!="number"&&(h=0);typeof i!="number"&&(i=0);typeof j!="number"&&(j=0);typeof k!="number"&&(k=0);typeof l!="boolean"&&(l=!1);typeof m!="boolean"&&(m=!1);typeof n!="boolean"&&(n=!1);typeof o!="boolean"&&(o=!1);typeof p!="number"&&(p=0);q||(q=null);var r=null;if(typeof document.createEvent=="function"){r=document.createEvent("MouseEvents");if(r.initMouseEvent)r.initMouseEvent(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);else{r=document.createEvent("UIEvents");r.initEvent(c,d,e);r.view=f;r.detail=g;r.screenX=h;r.screenY=i;r.clientX=j;r.clientY=k;r.ctrlKey=l;r.altKey=m;r.metaKey=o;r.shiftKey=n;r.button=p;r.relatedTarget=q}q&&!r.relatedTarget&&(c=="mouseout"?r.toElement=q:c=="mouseover"&&(r.fromElement=q));b.dispatchEvent(r)}else{if(typeof document.createEventObject=="undefined")throw new Error("simulateMouseEvent(): No event simulation framework present.");r=document.createEventObject();r.bubbles=d;r.cancelable=e;r.view=f;r.detail=g;r.screenX=h;r.screenY=i;r.clientX=j;r.clientY=k;r.ctrlKey=l;r.altKey=m;r.metaKey=o;r.shiftKey=n;switch(p){case 0:r.button=1;break;case 1:r.button=4;break;case 2:break;default:r.button=0}
r.relatedTarget=q;b.fireEvent("on"+c,r)}}function i(a,b,e,f,g,h){if(!a)throw new Error("simulateUIEvent(): Invalid target.");if(typeof b!="string")throw new Error("simulateUIEvent(): Event type must be a string.");b=b.toLowerCase();if(!c[b])throw new Error("simulateUIEvent(): Event type '"+b+"' not supported.");var i=null;typeof e!="boolean"&&(e=b in d);typeof f!="boolean"&&(f=b=="submit");if(typeof g!="object"||g!=null)g=window;typeof h!="number"&&(h=1);if(typeof document.createEvent=="function"){i=document.createEvent("UIEvents");i.initUIEvent(b,e,f,g,h);a.dispatchEvent(i)}else{if(typeof document.createEventObject=="undefined")throw new Error("simulateUIEvent(): No event simulation framework present.");i=document.createEventObject();i.bubbles=e;i.cancelable=f;i.view=g;i.detail=h;a.fireEvent("on"+b,i)}}var a={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1},b={keydown:1,keyup:1,keypress:1},c={blur:1,change:1,focus:1,resize:1,scroll:1,select:1},d={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1,click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,keydown:1,keyup:1,keypress:1},e,f;e={simulate:function(d,e,f){f=f||{};if(a[e])h(d,e,f.bubbles,f.cancelable,f.view,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);else if(b[e])g(d,e,f.bubbles,f.cancelable,f.view,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.keyCode,f.charCode);else{if(!c[e])throw new Error("simulate(): Event '"+e+"' can't be simulated.");i(d,e,f.bubbles,f.cancelable,f.view,f.detail)}}};for(f in a)a.hasOwnProperty(f)&&(e[f]=function(a){return function(b,c){c=c||{};h(b,a,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}}(f));for(f in b)b.hasOwnProperty(f)&&(e[f]=function(a){return function(b,c){c=c||{};g(b,a,c.bubbles,c.cancelable,c.view,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.keyCode,c.charCode)}}(f));for(f in c)c.hasOwnProperty(f)&&(e[f]=function(a){return function(b,c){c=c||{};i(b,a,c.bubbles,c.cancelable,c.view,c.detail)}}(f));return e}();YUITest.Reporter=function(a,b){this.url=a;this.format=b||YUITest.TestFormat.XML;this._fields=new Object;this._form=null;this._iframe=null};YUITest.Reporter.prototype={constructor:YUITest.Reporter,addField:function(a,b){this._fields[a]=b},clearFields:function(){this._fields=new Object},destroy:function(){if(this._form){this._form.parentNode.removeChild(this._form);this._form=null}if(this._iframe){this._iframe.parentNode.removeChild(this._iframe);this._iframe=null}this._fields=null},report:function(a){if(!this._form){this._form=document.createElement("form");this._form.method="post";this._form.style.visibility="hidden";this._form.style.position="absolute";this._form.style.top=0;document.body.appendChild(this._form);try{this._iframe=document.createElement('<iframe name="yuiTestTarget" />')}catch(b){this._iframe=document.createElement("iframe");this._iframe.name="yuiTestTarget"}this._iframe.src="javascript:false";this._iframe.style.visibility="hidden";this._iframe.style.position="absolute";this._iframe.style.top=0;document.body.appendChild(this._iframe);this._form.target="yuiTestTarget"}this._form.action=this.url;while(this._form.hasChildNodes())this._form.removeChild(this._form.lastChild);this._fields.results=this.format(a);this._fields.useragent=navigator.userAgent;this._fields.timestamp=(new Date).toLocaleString();for(var c in this._fields){var d=this._fields[c];if(this._fields.hasOwnProperty(c)&&typeof d!="function"){var e=document.createElement("input");e.type="hidden";e.name=c;e.value=d;this._form.appendChild(e)}}delete this._fields.results;delete this._fields.useragent;delete this._fields.timestamp;arguments[1]!==!1&&this._form.submit()}};YUITest.PageManager=YUITest.Util.mix(new YUITest.EventTarget,{TEST_PAGE_BEGIN_EVENT:"testpagebegin",TEST_PAGE_COMPLETE_EVENT:"testpagecomplete",TEST_MANAGER_BEGIN_EVENT:"testmanagerbegin",TEST_MANAGER_COMPLETE_EVENT:"testmanagercomplete",_curPage:null,_frame:null,_timeoutId:0,_pages:[],_results:null,_handleTestRunnerComplete:function(a){this.fire(this.TEST_PAGE_COMPLETE_EVENT,{page:this._curPage,results:a.results});this._processResults(this._curPage,a.results);this._pages.length?this._timeoutId=setTimeout(function(){YUITest.TestManager._run()},1e3):this.fire(this.TEST_MANAGER_COMPLETE_EVENT,this._results)},_processResults:function(a,b){var c=this._results;c.passed+=b.passed;c.failed+=b.failed;c.ignored+=b.ignored;c.total+=b.total;c.duration+=b.duration;b.failed?c.failedPages.push(a):c.passedPages.push(a);b.name=a;b.type="page";c[a]=b},_run:function(){this._curPage=this._pages.shift();this.fire(this.TEST_PAGE_BEGIN_EVENT,this._curPage);this._frame.location.replace(this._curPage)},load:function(){if(parent.YUITest.PageManager!==this)parent.YUITest.PageManager.load();else if(this._frame){var a=this._frame.YUITest.TestRunner;a.subscribe(a.COMPLETE_EVENT,this._handleTestRunnerComplete,this,!0);a.run()}},setPages:function(a){this._pages=a},start:function(){if(!this._initialized){if(!this._frame){var a=document.createElement("iframe");a.style.visibility="hidden";a.style.position="absolute";document.body.appendChild(a);this._frame=a.contentWindow||a.contentDocument.parentWindow}this._initialized=!0}this._results={passed:0,failed:0,ignored:0,total:0,type:"report",name:"YUI Test Results",duration:0,failedPages:[],passedPages:[]};this.fire(this.TEST_MANAGER_BEGIN_EVENT,null);this._run()},stop:function(){clearTimeout(this._timeoutId)}});YUITest.TestRunner=function(){function a(a,b){if(!b.length)return!0;if(a)for(var c=0,d=a.length;c<d;c++)if(b.indexOf(","+a[c]+",")>-1)return!0;return!1}function b(a){this.testObject=a;this.firstChild=null;this.lastChild=null;this.parent=null;this.next=null;this.results=new YUITest.Results;if(a instanceof YUITest.TestSuite){this.results.type="testsuite";this.results.name=a.name}else if(a instanceof YUITest.TestCase){this.results.type="testcase";this.results.name=a.name}}function c(){YUITest.EventTarget.call(this);this.masterSuite=new YUITest.TestSuite("yuitests"+(new Date).getTime());this._cur=null;this._root=null;this._log=!0;this._waiting=!1;this._running=!1;this._lastResults=null;this._context=null;this._groups=""}b.prototype={appendChild:function(a){var c=new b(a);if(this.firstChild===null)this.firstChild=this.lastChild=c;else{this.lastChild.next=c;this.lastChild=c}c.parent=this;return c}};c.prototype=YUITest.Util.mix(new YUITest.EventTarget,{constructor:YUITest.TestRunner,TEST_CASE_BEGIN_EVENT:"testcasebegin",TEST_CASE_COMPLETE_EVENT:"testcasecomplete",TEST_SUITE_BEGIN_EVENT:"testsuitebegin",TEST_SUITE_COMPLETE_EVENT:"testsuitecomplete",TEST_PASS_EVENT:"pass",TEST_FAIL_EVENT:"fail",ERROR_EVENT:"error",TEST_IGNORE_EVENT:"ignore",COMPLETE_EVENT:"complete",BEGIN_EVENT:"begin",_addTestCaseToTestTree:function(a,b){var c=a.appendChild(b),d,e;for(d in b)(d.indexOf("test")===0||d.indexOf(" ")>-1)&&typeof b[d]=="function"&&c.appendChild(d)},_addTestSuiteToTestTree:function(a,b){var c=a.appendChild(b);for(var d=0;d<b.items.length;d++)b.items[d]instanceof YUITest.TestSuite?this._addTestSuiteToTestTree(c,b.items[d]):b.items[d]instanceof YUITest.TestCase&&this._addTestCaseToTestTree(c,b.items[d])},_buildTestTree:function(){this._root=new b(this.masterSuite);for(var a=0;a<this.masterSuite.items.length;a++)this.masterSuite.items[a]instanceof YUITest.TestSuite?this._addTestSuiteToTestTree(this._root,this.masterSuite.items[a]):this.masterSuite.items[a]instanceof YUITest.TestCase&&this._addTestCaseToTestTree(this._root,this.masterSuite.items[a])},_handleTestObjectComplete:function(a){var b;if(typeof a.testObject=="object"&&a!==null){b=a.parent;if(b){b.results.include(a.results);b.results[a.testObject.name]=a.results}if(a.testObject instanceof YUITest.TestSuite){this._execNonTestMethod(a,"tearDown",!1);a.results.duration=new Date-a._start;this.fire({type:this.TEST_SUITE_COMPLETE_EVENT,testSuite:a.testObject,results:a.results})}else if(a.testObject instanceof YUITest.TestCase){this._execNonTestMethod(a,"destroy",!1);a.results.duration=new Date-a._start;this.fire({type:this.TEST_CASE_COMPLETE_EVENT,testCase:a.testObject,results:a.results})}}},_next:function(){if(this._cur===null)this._cur=this._root;else if(this._cur.firstChild)this._cur=this._cur.firstChild;else if(this._cur.next)this._cur=this._cur.next;else{while(this._cur&&!this._cur.next&&this._cur!==this._root){this._handleTestObjectComplete(this._cur);this._cur=this._cur.parent}this._handleTestObjectComplete(this._cur);if(this._cur==this._root){this._cur.results.type="report";this._cur.results.timestamp=(new Date).toLocaleString();this._cur.results.duration=new Date-this._cur._start;this._lastResults=this._cur.results;this._running=!1;this.fire({type:this.COMPLETE_EVENT,results:this._lastResults});this._cur=null}else this._cur=this._cur.next}return this._cur},_execNonTestMethod:function(a,b,c){var d=a.testObject,e={type:this.ERROR_EVENT};try{if(c&&d["async:"+b]){d["async:"+b](this._context);return!0}d[b](this._context)}catch(f){a.results.errors++;e.error=f;e.methodName=b;d instanceof YUITest.TestCase?e.testCase=d:e.testSuite=testSuite;this.fire(e)}return!1},_run:function(){var a=!1,b=this._next();if(b!==null){this._running=!0;this._lastResult=null;var c=b.testObject;if(typeof c=="object"&&c!==null){if(c instanceof YUITest.TestSuite){this.fire({type:this.TEST_SUITE_BEGIN_EVENT,testSuite:c});b._start=new Date;this._execNonTestMethod(b,"setUp",!1)}else if(c instanceof YUITest.TestCase){this.fire({type:this.TEST_CASE_BEGIN_EVENT,testCase:c});b._start=new Date;if(this._execNonTestMethod(b,"init",!0))return}typeof setTimeout!="undefined"?setTimeout(function(){YUITest.TestRunner._run()},0):this._run()}else this._runTest(b)}},_resumeTest:function(a){var b=this._cur;this._waiting=!1;if(!b)return;var c=b.testObject,d=b.parent.testObject;if(d.__yui_wait){clearTimeout(d.__yui_wait);delete d.__yui_wait}var e=c.indexOf("fail:")===0||(d._should.fail||{})[c],f=(d._should.error||{})[c],g=!1,h=null;try{a.call(d,this._context);if(YUITest.Assert._getCount()==0)throw new YUITest.AssertionError("Test has no asserts.");if(e){h=new YUITest.ShouldFail;g=!0}else if(f){h=new YUITest.ShouldError;g=!0}}catch(i){if(d.__yui_wait){clearTimeout(d.__yui_wait);delete d.__yui_wait}if(i instanceof YUITest.AssertionError){if(!e){h=i;g=!0}}else{if(i instanceof YUITest.Wait){if(typeof i.segment=="function"&&typeof i.delay=="number"){if(typeof setTimeout=="undefined")throw new Error("Asynchronous tests not supported in this environment.");d.__yui_wait=setTimeout(function(){YUITest.TestRunner._resumeTest(i.segment)},i.delay);this._waiting=!0}return}if(!f){h=new YUITest.UnexpectedError(i);g=!0}else if(typeof f=="string"){if(i.message!=f){h=new YUITest.UnexpectedError(i);g=!0}}else if(typeof f=="function"){if(!(i instanceof f)){h=new YUITest.UnexpectedError(i);g=!0}}else if(typeof f=="object"&&f!==null)if(!(i instanceof f.constructor)||i.message!=f.message){h=new YUITest.UnexpectedError(i);g=!0}}}g?this.fire({type:this.TEST_FAIL_EVENT,testCase:d,testName:c,error:h}):this.fire({type:this.TEST_PASS_EVENT,testCase:d,testName:c});this._execNonTestMethod(b.parent,"tearDown",!1);YUITest.Assert._reset();var j=new Date-b._start;b.parent.results[c]={result:g?"fail":"pass",message:h?h.getMessage():"Test passed",type:"test",name:c,duration:j};g?b.parent.results.failed++:b.parent.results.passed++;b.parent.results.total++;typeof setTimeout!="undefined"?setTimeout(function(){YUITest.TestRunner._run()},0):this._run()},_handleError:function(a){if(!this._waiting)throw a;this._resumeTest(function(){throw a})},_runTest:function(b){var c=b.testObject,d=b.parent.testObject,e=d[c],f=c.indexOf("ignore:")===0||!a(d.groups,this._groups)||(d._should.ignore||{})[c];if(f){b.parent.results[c]={result:"ignore",message:"Test ignored",type:"test",name:c.indexOf("ignore:")===0?c.substring(7):c};b.parent.results.ignored++;b.parent.results.total++;this.fire({type:this.TEST_IGNORE_EVENT,testCase:d,testName:c});typeof setTimeout!="undefined"?setTimeout(function(){YUITest.TestRunner._run()},0):this._run()}else{b._start=new Date;this._execNonTestMethod(b.parent,"setUp",!1);this._resumeTest(e)}},getName:function(){return this.masterSuite.name},setName:function(a){this.masterSuite.name=a},add:function(a){this.masterSuite.add(a);return this},clear:function(){this.masterSuite=new YUITest.TestSuite("yuitests"+(new Date).getTime())},isWaiting:function(){return this._waiting},isRunning:function(){return this._running},getResults:function(a){return!this._running&&this._lastResults?typeof a=="function"?a(this._lastResults):this._lastResults:null},getCoverage:function(a){return!this._running&&typeof _yuitest_coverage=="object"?typeof a=="function"?a(_yuitest_coverage):_yuitest_coverage:null},callback:function(){var a=arguments,b=this._context,c=this;return function(){for(var d=0;d<arguments.length;d++)b[a[d]]=arguments[d];c._run()}},resume:function(a){if(!this._waiting)throw new Error("resume() called without wait().");this._resumeTest(a||function(){})},run:function(a){a=a||{};var b=YUITest.TestRunner,c=a.oldMode;!c&&this.masterSuite.items.length==1&&this.masterSuite.items[0]instanceof YUITest.TestSuite&&(this.masterSuite=this.masterSuite.items[0]);b._groups=a.groups instanceof Array?","+a.groups.join(",")+",":"";b._buildTestTree();b._context={};b._root._start=new Date;b.fire(b.BEGIN_EVENT);b._run()}});return new c}();var CSSLint=function(){var a=[],b=[],c=new parserlib.util.EventTarget;c.version="@VERSION@";c.addRule=function(b){a.push(b);a[b.id]=b};c.clearRules=function(){a=[]};c.addFormatter=function(a){b[a.id]=a};c.getFormatter=function(a){return b[a]};c.format=function(a,b,c){var d=this.getFormatter(c),e=null;if(d){e=d.startFormat();e+=d.formatResults(a,b);e+=d.endFormat()}return e};c.hasFormat=function(a){return b.hasOwnProperty(a)};c.verify=function(b,c){var d=0,e=a.length,f,g,h=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});g=b.split(/\n\r?/g);f=new Reporter(g);if(!c)while(d<e)a[d++].init(h,f);else{c.errors=1;for(d in c)c.hasOwnProperty(d)&&a[d]&&a[d].init(h,f)}try{h.parse(b)}catch(i){f.error("Fatal error, cannot continue: "+i.message,i.line,i.col)}return{messages:f.messages,stats:f.stats}};return c}();Reporter.prototype={constructor:Reporter,error:function(a,b,c,d){this.messages.push({type:"error",line:b,col:c,message:a,evidence:this.lines[b-1],rule:d})},warn:function(a,b,c,d){this.messages.push({type:"warning",line:b,col:c,message:a,evidence:this.lines[b-1],rule:d})},info:function(a,b,c,d){this.messages.push({type:"info",line:b,col:c,message:a,evidence:this.lines[b-1],rule:d})},rollupError:function(a,b){this.messages.push({type:"error",rollup:!0,message:a,rule:b})},rollupWarn:function(a,b){this.messages.push({type:"warning",rollup:!0,message:a,rule:b})},stat:function(a,b){this.stats[a]=b}};CSSLint.addRule({id:"adjoining-classes",name:"Adjoining Classes",desc:"Don't use adjoining classes.",browsers:"IE6",init:function(a,b){var c=this;a.addListener("startrule",function(a){var d=a.selectors,e,f,g,h,i,j,k;for(i=0;i<d.length;i++){e=d[i];for(j=0;j<e.parts.length;j++){f=e.parts[j];if(f instanceof parserlib.css.SelectorPart){h=0;for(k=0;k<f.modifiers.length;k++){g=f.modifiers[k];g.type=="class"&&h++;h>1&&b.warn("Don't use adjoining classes.",f.line,f.col,c)}}}}})}});CSSLint.addRule({id:"box-model",name:"Box Model",desc:"Don't use width or height when using padding or border.",browsers:"All",init:function(a,b){var c=this,d={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},e={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},f;a.addListener("startrule",function(){f={}});a.addListener("property",function(a){var b=a.property.text.toLowerCase();if(e[b]||d[b])!/^0\S*$/.test(a.value)&&(b!="border"||a.value!="none")&&(f[b]={line:a.property.line,col:a.property.col});else if(b=="width"||b=="height")f[b]=1});a.addListener("endrule",function(){var a;if(f.height)for(a in e)e.hasOwnProperty(a)&&f[a]&&b.warn("Broken box model: using height with "+a+".",f[a].line,f[a].col,c);if(f.width)for(a in d)d.hasOwnProperty(a)&&f[a]&&b.warn("Broken box model: using width with "+a+".",f[a].line,f[a].col,c)})}});CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Compatible Vendor Prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(a,b){var c=this,d,e,f,g,h,i,j,k=Array.prototype.push,l=[];d={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit moz","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz","column-gap":"webkit moz","column-rule":"webkit moz","column-rule-color":"webkit moz","column-rule-style":"webkit moz","column-rule-width":"webkit moz","column-width":"webkit moz",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz","word-break":"epub ms","writing-mode":"epub ms"};for(f in d)if(d.hasOwnProperty(f)){g=[];h=d[f].split(" ");for(i=0,j=h.length;i<j;i++)g.push("-"+h[i]+"-"+f);d[f]=g;k.apply(l,g)}a.addListener("startrule",function(){e=[]});a.addListener("property",function(a){var b=a.property.text;l.indexOf(b)>-1&&e.push(b)});a.addListener("endrule",function(a){if(!e.length)return;var f={},g,h,i,j,k,l,m,n,o,p;for(g=0,h=e.length;g<h;g++){i=e[g];for(j in d)if(d.hasOwnProperty(j)){k=d[j];if(k.indexOf(i)>-1){f[j]===undefined&&(f[j]={full:k.slice(0),actual:[]});f[j].actual.indexOf(i)===-1&&f[j].actual.push(i)}}}for(j in f)if(f.hasOwnProperty(j)){l=f[j];m=l.full;n=l.actual;if(m.length>n.length)for(g=0,h=m.length;g<h;g++){o=m[g];if(n.indexOf(o)===-1){p=n.length===1?n[0]:n.length==2?n.join(" and "):n.join(", ");b.warn("The property "+o+" is compatible with "+p+" and should be included as well.",a.selectors[0].line,a.selectors[0].col,c)}}}})}});CSSLint.addRule({id:"display-property-grouping",name:"Display Property Grouping",desc:"Certain properties shouldn't be used with certain display property values.",browsers:"All",init:function(a,b){function f(a,f,g){e[a]&&(typeof d[a]!="string"||e[a].value.toLowerCase()!=d[a])&&b.warn(g||a+" can't be used with display: "+f+".",e[a].line,e[a].col,c)}var c=this,d={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1},e;a.addListener("startrule",function(){e={}});a.addListener("property",function(a){var b=a.property.text.toLowerCase();d[b]&&(e[b]={value:a.value.text,line:a.property.line,col:a.property.col})});a.addListener("endrule",function(){var a=e.display?e.display.value:null;if(a)switch(a){case"inline":f("height",a);f("width",a);f("margin",a);f("margin-top",a);f("margin-bottom",a);f("float",a,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":f("vertical-align",a);break;case"inline-block":f("float",a);break;default:if(a.indexOf("table-")==0){f("margin",a);f("margin-left",a);f("margin-right",a);f("margin-top",a);f("margin-bottom",a);f("float",a)}}})}});CSSLint.addRule({id:"duplicate-properties",name:"Duplicate Properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(a,b){function f(a){d={}}var c=this,d,e;a.addListener("startrule",f);a.addListener("startfontface",f);a.addListener("startpage",f);a.addListener("property",function(a){var f=a.property,g=f.text.toLowerCase();d[g]&&(e!=g||d[g]==a.value.text)&&b.warn("Duplicate property '"+a.property+"' found.",a.line,a.col,c);d[g]=a.value.text;e=g})}});CSSLint.addRule({id:"empty-rules",name:"Empty Rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(a,b){var c=this,d=0;a.addListener("startrule",function(){d=0});a.addListener("property",function(){d++});a.addListener("endrule",function(a){var e=a.selectors;d==0&&b.warn("Rule is empty.",e[0].line,e[0].col,c)})}});CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(a,b){var c=this;a.addListener("error",function(a){b.error(a.message,a.line,a.col,c)})}});CSSLint.addRule({id:"floats",name:"Floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(a,b){var c=this,d=0;a.addListener("property",function(a){a.property.text.toLowerCase()=="float"&&a.value.text.toLowerCase()!="none"&&d++});a.addListener("endstylesheet",function(){b.stat("floats",d);d>=10&&b.rollupWarn("Too many floats ("+d+"), you're probably using them for layout. Consider using a grid system instead.",c)})}});CSSLint.addRule({id:"font-faces",name:"Font Faces",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(a,b){var c=this,d=0;a.addListener("startfontface",function(){d++});a.addListener("endstylesheet",function(){d>5&&b.rollupWarn("Too many @font-face declarations ("+d+").",c)})}});CSSLint.addRule({id:"font-sizes",name:"Font Sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(a,b){var c=this,d=0;a.addListener("property",function(a){a.property=="font-size"&&d++});a.addListener("endstylesheet",function(){b.stat("font-sizes",d);d>=10&&b.rollupWarn("Too many font-size declarations ("+d+"), abstraction needed.",c)})}});CSSLint.addRule({id:"gradients",name:"Gradients",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(a,b){var c=this,d;a.addListener("startrule",function(){d={moz:0,webkit:0,ms:0,o:0}});a.addListener("property",function(a){/\-(moz|ms|o|webkit)(?:\-(?:linear|radial))\-gradient/.test(a.value)&&(d[RegExp.$1]=1)});a.addListener("endrule",function(a){var e=[];d.moz||e.push("Firefox 3.6+");d.webkit||e.push("Webkit (Safari, Chrome)");d.ms||e.push("Internet Explorer 10+");d.o||e.push("Opera 11.1+");e.length&&e.length<4&&b.warn("Missing vendor-prefixed CSS gradients for "+e.join(", ")+".",a.selectors[0].line,a.selectors[0].col,c)})}});CSSLint.addRule({id:"ids",name:"IDs",desc:"Selectors should not contain IDs.",browsers:"All",init:function(a,b){var c=this;a.addListener("startrule",function(a){var d=a.selectors,e,f,g,h,i,j,k;for(i=0;i<d.length;i++){e=d[i];h=0;for(j=0;j<e.parts.length;j++){f=e.parts[j];if(f instanceof parserlib.css.SelectorPart)for(k=0;k<f.modifiers.length;k++){g=f.modifiers[k];g.type=="id"&&h++}}h==1?b.warn("Don't use IDs in selectors.",e.line,e.col,c):h>1&&b.warn(h+" IDs in the selector, really?",e.line,e.col,c)}})}});CSSLint.addRule({id:"import",name:"@import",desc:"Don't use @import, use <link> instead.",browsers:"All",init:function(a,b){var c=this;a.addListener("import",function(a){b.warn("@import prevents parallel downloads, use <link> instead.",a.line,a.col,c)})}});CSSLint.addRule({id:"important",name:"Important",desc:"Be careful when using !important declaration",browsers:"All",init:function(a,b){var c=this,d=0;a.addListener("property",function(a){var e=a.property;if(a.important===!0){d++;b.warn("Use of !important",e.line,e.col,c)}});a.addListener("endstylesheet",function(){b.stat("important",d);d>=10&&b.rollupError("Too many !important declarations ("+d+"), be careful with rule specificity",c)})}});CSSLint.addRule({id:"overqualified-elements",name:"Overqualified Elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(a,b){var c=this,d={};a.addListener("startrule",function(a){var e=a.selectors,f,g,h,i,j,k;for(i=0;i<e.length;i++){f=e[i];for(j=0;j<f.parts.length;j++){g=f.parts[j];if(g instanceof parserlib.css.SelectorPart)for(k=0;k<g.modifiers.length;k++){h=g.modifiers[k];if(g.elementName&&h.type=="id")b.warn("Element ("+g+") is overqualified, just use "+h+" without element name.",g.line,g.col,c);else if(h.type=="class"){d[h]||(d[h]=[]);d[h].push({modifier:h,part:g})}}}}});a.addListener("endstylesheet",function(){var a;for(a in d)d.hasOwnProperty(a)&&d[a].length==1&&d[a][0].part.elementName&&b.warn("Element ("+d[a][0].part+") is overqualified, just use "+d[a][0].modifier+" without element name.",d[a][0].part.line,d[a][0].part.col,c)})}});CSSLint.addRule({id:"qualified-headings",name:"Qualified Headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(a,b){var c=this;a.addListener("startrule",function(a){var d=a.selectors,e,f,g,h;for(g=0;g<d.length;g++){e=d[g];for(h=0;h<e.parts.length;h++){f=e.parts[h];f instanceof parserlib.css.SelectorPart&&f.elementName&&/h[1-6]/.test(f.elementName.toString())&&h>0&&b.warn("Heading ("+f.elementName+") should not be qualified.",f.line,f.col,c)}}})}});CSSLint.addRule({id:"regex-selectors",name:"Regex Selectors",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(a,b){var c=this;a.addListener("startrule",function(a){var d=a.selectors,e,f,g,h,i,j;for(h=0;h<d.length;h++){e=d[h];for(i=0;i<e.parts.length;i++){f=e.parts[i];if(f instanceof parserlib.css.SelectorPart)for(j=0;j<f.modifiers.length;j++){g=f.modifiers[j];g.type=="attribute"&&/([\~\|\^\$\*]=)/.test(g)&&b.warn("Attribute selectors with "+RegExp.$1+" are slow!",g.line,g.col,c)}}}})}});CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(a,b){var c=this,d=0;a.addListener("startrule",function(){d++});a.addListener("endstylesheet",function(){b.stat("rule-count",d)})}});CSSLint.addRule({id:"unique-headings",name:"Unique Headings",desc:"Headings should be defined only once.",browsers:"All",init:function(a,b){var c=this,d={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};a.addListener("startrule",function(a){var e=a.selectors,f,g,h;for(h=0;h<e.length;h++){f=e[h];g=f.parts[f.parts.length-1];if(g.elementName&&/(h[1-6])/.test(g.elementName.toString())){d[RegExp.$1]++;d[RegExp.$1]>1&&b.warn("Heading ("+g.elementName+") has already been defined.",g.line,g.col,c)}}})}});CSSLint.addRule({id:"vendor-prefix",name:"Vendor Prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(a,b){function g(){d={};e=1}function h(a){var e,g,h,i,j,k,l=[];for(e in d)f[e]&&l.push({actual:e,needed:f[e]});for(g=0,h=l.length;g<h;g++){j=l[g].needed;k=l[g].actual;d[j]?d[j][0].pos<d[k][0].pos&&b.warn("Standard property '"+j+"' should come after vendor-prefixed property '"+k+"'.",a.line,a.col,c):b.warn("Missing standard property '"+j+"' to go along with '"+k+"'.",a.line,a.col,c)}}var c=this,d,e,f={"-moz-border-radius":"border-radius","-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};a.addListener("startrule",g);a.addListener("startfontface",g);a.addListener("property",function(a){var b=a.property.text.toLowerCase();d[b]||(d[b]=[]);d[b].push({name:a.property,value:a.value,pos:e++})});a.addListener("endrule",h);a.addListener("endfontface",h)}});CSSLint.addRule({id:"zero-units",name:"Zero Units",desc:"You don't need to specify units when a value is 0.",browsers:"All",init:function(a,b){var c=this;a.addListener("property",function(a){var d=a.value.parts,e=0,f=d.length;while(e<f){(d[e].units||d[e].type=="percentage")&&d[e].value===0&&b.warn("Values of 0 shouldn't have units specified.",d[e].line,d[e].col,c);e++}})}});CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><lint>'},endFormat:function(){return"</lint>"},formatResults:function(a,b){var c=a.messages,d=[],e=function(a){return!a||a.constructor!==String?"":a.replace(/\"/g,"'")};if(c.length>0){c.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:0});d.push('<file name="'+b+'">');c.forEach(function(a,b){a.rollup?d.push('<issue severity="'+a.type+'" reason="'+e(a.message)+'" evidence="'+e(a.evidence)+'"/>'):d.push('<issue line="'+a.line+'" char="'+a.col+'" severity="'+a.type+'"'+' reason="'+e(a.message)+'" evidence="'+e(a.evidence)+'"/>')});d.push("</file>")}return d.join("")}});CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(a,b){var c=a.messages;if(c.length===0)return"\n\ncsslint: No errors in "+b+".";output="\n\ncsslint: There are "+c.length+" problems in "+b+".";var d=b.lastIndexOf("/"),e=b;d==-1&&(d=b.lastIndexOf("\\"));d>-1&&(e=b.substring(d+1));c.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:0});c.forEach(function(a,b){output=output+"\n\n"+e;if(a.rollup){output+="\n"+(b+1)+": "+a.type;output+="\n"+a.message}else{output+="\n"+(b+1)+": "+a.type+" at line "+a.line+", col "+a.col;output+="\n"+a.message;output+="\n"+a.evidence}});return output}});return CSSLint}();if(typeof print=="undefined")var print=console.log;if(typeof readFile=="undefined")var readFile=function(a){var b=require("fs");return b.readFileSync(a,"utf-8")};var pluckByType=function(a,b){return a.filter(function(a){return a.type===b})},processFile=function(a,b){var c=readFile(a),d=CSSLint.verify(c,gatherRules(b)),e=b.format||"text",f=d.messages||[],g=0;if(!c){print("csslint: Could not read file data in "+a+". Is the file empty?");g=1}else{print(CSSLint.getFormatter(e).formatResults(d,a,e));f.length>0&&pluckByType(f,"error").length>0&&(g=1)}return g};importPackage(java.io);var args=Array.prototype.slice.call(arguments),argName,arg=args.shift(),options={},files=[];while(arg){if(arg.indexOf("--")==0){argName=arg.substring(2);options[argName]=!0;argName.indexOf("rules=")>-1?options.rules=argName.substring(argName.indexOf("=")+1):argName.indexOf("format=")>-1&&(options.format=argName.substring(argName.indexOf("=")+1))}else{var curFile=new File(arg);curFile.isDirectory()?files=files.concat(getFiles(arg)):files.push(arg)}arg=args.shift()}if(options.help||arguments.length==0){outputHelp();quit(0)}if(options.version){print("v"+CSSLint.version);quit(0)}quit(processFiles(files,options));