/* Author: 

*/!function(a,b,c,d){function f(b){log("Close: "+b);if(b==="search"){a("#misc .search-icon").removeClass("active");h();a("#search").css({"-moz-transform":"scale(0)","-o-transform":"scale(0)","-webkit-transform":"scale(0)","-ms-transform":"scale(0)",transform:"scale(0)",opacity:"0"})}else{h();a("#markdown").fadeOut()}}function g(b,c){c===d&&(c=!1);if(a("#overlay").size()<1){var e=a("<div />",{id:"overlay",css:{display:"none"}});c&&e.addClass("transparent");e.click(function(a){a.preventDefault();location.hash="#/close/"+b});e.appendTo("body").fadeIn()}else a("#overlay").fadeIn();delete $output}function h(){a("#overlay").size()>0&&a("#overlay").fadeOut()}var e=a(b).width()<480;a("img").addClass("show");Modernizr.csstransforms3d||a("label").click(function(){a(".animate .front").removeClass("front");a(this).addClass("front")});!function(){a(b).keyup(function(b){b.which==27&&a("#overlay").size()>0&&a("#overlay").trigger("click")})}();var i="";!function(){a(b).bind("hashchange",function(b){i=location.hash;log(i);if(i==="#/search"){a("#misc .search-icon").addClass("active");a("#search").css({"-moz-transform":"scale(1)","-o-transform":"scale(1)","-webkit-transform":"scale(1)","-ms-transform":"scale(1)",transform:"scale(1)",opacity:"1"});g("search",!0);a("#s").focus()}else if(i.substr(0,7)==="#/close")f(i.substr(8));else if(i==="#/markdown")if(a("#markdown").size()>0){g("markdown");a("#markdown").fadeIn()}else a.get("?get_markdown",function(b){a("body").append(b);g("markdown");a("#markdown").fadeIn()})})}();a("#commentform").submit(function(){var b,c=!1,d=new Array(a("#author"),a("#email"),a("#comment"));a.each(d,function(){b=a(this);if(b.prop("value")===""){b.addClass("invalid");c=!0}});if(c)return!1})}(jQuery,window,document);